{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function NoteForm(_ref){let{addNote,selectedNote}=_ref;const[title,setTitle]=useState(selectedNote?selectedNote.title:\"\");const[content,setContent]=useState(selectedNote?selectedNote.content:\"\");const[tags,setTags]=useState(selectedNote?selectedNote.tags.join(\", \"):\"\");const[loading,setLoading]=useState(false);// Loading state\nconst[success,setSuccess]=useState(\"\");// Success message state\nconst[error,setError]=useState(\"\");// Error message state\n// Populate form when `selectedNote` changes\nuseEffect(()=>{if(selectedNote){setTitle(selectedNote.title);setContent(selectedNote.content);setTags(selectedNote.tags.join(\", \"));}else{resetForm();}},[selectedNote]);// Reset the form\nconst resetForm=()=>{setTitle(\"\");setContent(\"\");setTags(\"\");};// Handle form submission\nconst handleSubmit=e=>{e.preventDefault();// Validation: Check if title is empty\nif(!title.trim()){setError(\"Title cannot be empty!\");return;}// Validation: Check if tags contain only letters and numbers\nconst tagsArray=tags.split(\",\").map(tag=>tag.trim());if(tagsArray.some(tag=>!/^[a-zA-Z0-9]+$/.test(tag))){setError(\"Tags must contain only letters and numbers.\");return;}setError(\"\");// Clear previous errors\nsetLoading(true);// Start loading state\n// Create or update note object\nconst noteData={id:selectedNote?selectedNote.id:Date.now(),// Use existing id or generate new one\ntitle,content,tags:tagsArray};// Call `addNote` to handle both adding and updating notes\ntry{addNote(noteData);setSuccess(selectedNote?\"Note updated successfully!\":\"Note added successfully!\");resetForm();}catch(err){setError(\"Failed to save the note. Please try again.\");}finally{setLoading(false);// Stop loading state\nsetTimeout(()=>setSuccess(\"\"),3000);// Clear success message after 3 seconds\n}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"note-form\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"form-title\",children:selectedNote?\"Edit Note\":\"Add Note\"}),success&&/*#__PURE__*/_jsx(\"p\",{className:\"success-message\",children:success}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"input-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{id:\"title\",type:\"text\",placeholder:\"Title\",value:title,onChange:e=>setTitle(e.target.value),maxLength:50,className:\"input-field\"}),/*#__PURE__*/_jsxs(\"small\",{className:\"char-counter\",children:[title.length,\"/50\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content\",className:\"input-label\",children:\"Content\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"content\",placeholder:\"Content\",value:content,onChange:e=>setContent(e.target.value),maxLength:2000,className:\"textarea-field\"}),/*#__PURE__*/_jsxs(\"small\",{className:\"char-counter\",children:[content.length,\"/2000\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tags\",className:\"input-label\",children:\"Tags (comma-separated)\"}),/*#__PURE__*/_jsx(\"input\",{id:\"tags\",type:\"text\",placeholder:\"Tags (comma-separated)\",value:tags,onChange:e=>setTags(e.target.value),className:\"input-field\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"submit-button\",children:loading?\"Processing...\":selectedNote?\"Update Note\":\"Add Note\"})]});}export default NoteForm;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","NoteForm","_ref","addNote","selectedNote","title","setTitle","content","setContent","tags","setTags","join","loading","setLoading","success","setSuccess","error","setError","resetForm","handleSubmit","e","preventDefault","trim","tagsArray","split","map","tag","some","test","noteData","id","Date","now","err","setTimeout","onSubmit","className","children","htmlFor","type","placeholder","value","onChange","target","maxLength","length","disabled"],"sources":["C:/Users/Waseer/OneDrive/Desktop/DNT/src/NoteForm.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nfunction NoteForm({ addNote, selectedNote }) {\r\n  const [title, setTitle] = useState(selectedNote ? selectedNote.title : \"\");\r\n  const [content, setContent] = useState(\r\n    selectedNote ? selectedNote.content : \"\"\r\n  );\r\n  const [tags, setTags] = useState(\r\n    selectedNote ? selectedNote.tags.join(\", \") : \"\"\r\n  );\r\n  const [loading, setLoading] = useState(false); // Loading state\r\n  const [success, setSuccess] = useState(\"\"); // Success message state\r\n  const [error, setError] = useState(\"\"); // Error message state\r\n\r\n  // Populate form when `selectedNote` changes\r\n  useEffect(() => {\r\n    if (selectedNote) {\r\n      setTitle(selectedNote.title);\r\n      setContent(selectedNote.content);\r\n      setTags(selectedNote.tags.join(\", \"));\r\n    } else {\r\n      resetForm();\r\n    }\r\n  }, [selectedNote]);\r\n\r\n  // Reset the form\r\n  const resetForm = () => {\r\n    setTitle(\"\");\r\n    setContent(\"\");\r\n    setTags(\"\");\r\n  };\r\n\r\n  // Handle form submission\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    // Validation: Check if title is empty\r\n    if (!title.trim()) {\r\n      setError(\"Title cannot be empty!\");\r\n      return;\r\n    }\r\n\r\n    // Validation: Check if tags contain only letters and numbers\r\n    const tagsArray = tags.split(\",\").map((tag) => tag.trim());\r\n    if (tagsArray.some((tag) => !/^[a-zA-Z0-9]+$/.test(tag))) {\r\n      setError(\"Tags must contain only letters and numbers.\");\r\n      return;\r\n    }\r\n\r\n    setError(\"\"); // Clear previous errors\r\n    setLoading(true); // Start loading state\r\n\r\n    // Create or update note object\r\n    const noteData = {\r\n      id: selectedNote ? selectedNote.id : Date.now(), // Use existing id or generate new one\r\n      title,\r\n      content,\r\n      tags: tagsArray,\r\n    };\r\n\r\n    // Call `addNote` to handle both adding and updating notes\r\n    try {\r\n      addNote(noteData);\r\n      setSuccess(\r\n        selectedNote ? \"Note updated successfully!\" : \"Note added successfully!\"\r\n      );\r\n      resetForm();\r\n    } catch (err) {\r\n      setError(\"Failed to save the note. Please try again.\");\r\n    } finally {\r\n      setLoading(false); // Stop loading state\r\n      setTimeout(() => setSuccess(\"\"), 3000); // Clear success message after 3 seconds\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"note-form\">\r\n      <h2 className=\"form-title\">{selectedNote ? \"Edit Note\" : \"Add Note\"}</h2>\r\n\r\n      {success && <p className=\"success-message\">{success}</p>}\r\n      {error && <p className=\"error-message\">{error}</p>}\r\n\r\n      <div className=\"input-group\">\r\n        <label htmlFor=\"title\" className=\"input-label\">\r\n          Title\r\n        </label>\r\n        <input\r\n          id=\"title\"\r\n          type=\"text\"\r\n          placeholder=\"Title\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          maxLength={50}\r\n          className=\"input-field\"\r\n        />\r\n        <small className=\"char-counter\">{title.length}/50</small>\r\n      </div>\r\n\r\n      <div className=\"input-group\">\r\n        <label htmlFor=\"content\" className=\"input-label\">\r\n          Content\r\n        </label>\r\n        <textarea\r\n          id=\"content\"\r\n          placeholder=\"Content\"\r\n          value={content}\r\n          onChange={(e) => setContent(e.target.value)}\r\n          maxLength={2000}\r\n          className=\"textarea-field\"\r\n        ></textarea>\r\n        <small className=\"char-counter\">{content.length}/2000</small>\r\n      </div>\r\n\r\n      <div className=\"input-group\">\r\n        <label htmlFor=\"tags\" className=\"input-label\">\r\n          Tags (comma-separated)\r\n        </label>\r\n        <input\r\n          id=\"tags\"\r\n          type=\"text\"\r\n          placeholder=\"Tags (comma-separated)\"\r\n          value={tags}\r\n          onChange={(e) => setTags(e.target.value)}\r\n          className=\"input-field\"\r\n        />\r\n      </div>\r\n\r\n      <button type=\"submit\" disabled={loading} className=\"submit-button\">\r\n        {loading ? \"Processing...\" : selectedNote ? \"Update Note\" : \"Add Note\"}\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default NoteForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}